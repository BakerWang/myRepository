<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.runlion.shop.dao.BspProductsMapper">
	<resultMap id="BaseResultMap" type="com.runlion.shop.entity.BspProducts">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		<id column="pid" property="pid" jdbcType="INTEGER" />
		<result column="psn" property="psn" jdbcType="VARCHAR" />
		<result column="cateid" property="cateid" jdbcType="SMALLINT" />
		<result column="brandid" property="brandid" jdbcType="INTEGER" />
		<result column="skugid" property="skugid" jdbcType="INTEGER" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="shopprice" property="shopprice" jdbcType="DECIMAL" />
		<result column="marketprice" property="marketprice" jdbcType="DECIMAL" />
		<result column="costprice" property="costprice" jdbcType="DECIMAL" />
		<result column="state" property="state" jdbcType="TINYINT" />
		<result column="isbest" property="isbest" jdbcType="TINYINT" />
		<result column="ishot" property="ishot" jdbcType="TINYINT" />
		<result column="isnew" property="isnew" jdbcType="TINYINT" />
		<result column="displayorder" property="displayorder" jdbcType="INTEGER" />
		<result column="weight" property="weight" jdbcType="DECIMAL" />
		<result column="showimg" property="showimg" jdbcType="VARCHAR" />
		<result column="salecount" property="salecount" jdbcType="DOUBLE" />
		<result column="visitcount" property="visitcount" jdbcType="INTEGER" />
		<result column="reviewcount" property="reviewcount" jdbcType="INTEGER" />
		<result column="star1" property="star1" jdbcType="INTEGER" />
		<result column="star2" property="star2" jdbcType="INTEGER" />
		<result column="star3" property="star3" jdbcType="INTEGER" />
		<result column="star4" property="star4" jdbcType="INTEGER" />
		<result column="star5" property="star5" jdbcType="INTEGER" />
		<result column="addtime" property="addtime" jdbcType="TIMESTAMP" />
		<result column="weightunitid" property="weightunitid" jdbcType="INTEGER" />
		<result column="quantityunitid" property="quantityunitid"
			jdbcType="INTEGER" />
		<result column="ncpronum" property="ncpronum" jdbcType="VARCHAR" />
	</resultMap>
	<resultMap id="ResultMapWithBLOBs" type="com.runlion.shop.entity.BspProducts"
		extends="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		<result column="description" property="description" jdbcType="LONGVARCHAR" />
	</resultMap>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		<where>
			<foreach collection="oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Update_By_Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		<where>
			<foreach collection="example.oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		pid, psn, cateid, brandid, skugid, name, shopprice, marketprice,
		costprice, state,
		isbest, ishot, isnew, displayorder, weight, showimg,
		salecount, visitcount,
		reviewcount,
		star1, star2, star3, star4, star5,
		addtime,weightunitid,quantityunitid,ncpronum
	</sql>
	<sql id="Blob_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		description
	</sql>
	<select id="selectByExampleWithBLOBs" resultMap="ResultMapWithBLOBs"
		parameterType="com.runlion.shop.entity.BspProductsExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from bsp_products
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
	</select>


	<select id="selectByPZ" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		SELECT a.* FROM bsp_products a, bsp_productattributes b
		where a.pid =
		b.pid and b.attrid = 48 and b.attrvalueid =
		#{id,jdbcType=INTEGER}
	</select>

	<select id="selectByQD" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		SELECT a.* FROM bsp_products a, bsp_productattributes b
		where a.pid =
		b.pid and b.attrid = 49 and b.attrvalueid =
		#{id,jdbcType=INTEGER}
	</select>

	<select id="selectByPSFS" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		SELECT a.* FROM bsp_products a, bsp_productattributes b
		where a.pid = b.pid and b.attrid = 50 and b.attrvalueid =
		#{id,jdbcType=INTEGER}
	</select>

	<select id="selectBySCCJ" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		SELECT a.* FROM bsp_products a, bsp_productattributes b
		where a.pid = b.pid and b.attrid = 51 and b.attrvalueid =
		#{id,jdbcType=INTEGER}
	</select>

	<select id="selectByPP" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		SELECT a.* FROM bsp_products a, bsp_productattributes b
		where a.pid =
		b.pid and b.attrid = 52 and b.attrvalueid =
		#{id,jdbcType=INTEGER}
	</select>

	<select id="selectByBZ" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		SELECT a.* FROM bsp_products a, bsp_productattributes b
		where a.pid =
		b.pid and b.attrid = 47 and b.attrvalueid =
		#{id,jdbcType=INTEGER}
	</select>

	<!-- 组合查询，查询条件是 “与”的关系 -->
	<select id="comboQuery" resultMap="BaseResultMap" parameterType="java.util.Map">

		SELECT a.* FROM bsp_products a, bsp_productskus x
		where a.state = 0
		and
		exists (SELECT 1
		FROM
		bsp_productsregions b, bsp_productsregionsbrand
		c,
		bsp_productsregionsbrandplace d
		where
		b.id = c.productregionsId
		and x.attrvalueid = c.brandid
		and b.Regionsid =
		#{areaID,jdbcType=INTEGER})
		and a.pid = x.pid


		<foreach collection="pathList" item="itemID" index="index">
			<if test="itemID >0 ">
				and exists(select 1 from bsp_productskus b where
				a.pid = b.pid and a.skugid = b.skugid and b.attrvalueid =
				#{itemID,jdbcType=INTEGER})
			</if>
		</foreach>

	</select>

	<select id="search" resultMap="BaseResultMap" parameterType="java.util.Map">
		SELECT a.* FROM bsp_products a
		where a.state = 0 and exists (SELECT 1
		FROM
		bsp_productsregions b where a.pid = b.productId and b.Regionsid =
		#{areaID,jdbcType=INTEGER})
		and a.name like
		CONCAT('%',#{name,jdbcType=INTEGER},'%')
	</select>

	<select id="comboQuery_bak" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		SELECT a.* FROM bsp_products a
		where 1 = 1


		<if test="bzID >0 ">
			and exists(select 1 from bsp_productattributes b where
			a.pid = b.pid and b.attrid = 47 and b.attrvalueid =
			#{bzID,jdbcType=INTEGER})
		</if>
		<if test="pzID >0 ">
			and exists(select 1 from bsp_productattributes b where
			a.pid = b.pid and b.attrid = 48 and b.attrvalueid =
			#{pzID,jdbcType=INTEGER})
		</if>
		<if test="qdID >0 ">
			and exists(select 1 from bsp_productattributes b where
			a.pid = b.pid and b.attrid = 49 and b.attrvalueid =
			#{qdID,jdbcType=INTEGER})
		</if>
		<if test="psfsID >0 ">
			and exists(select 1 from bsp_productattributes b where
			a.pid = b.pid and b.attrid = 50 and b.attrvalueid =
			#{psfsID,jdbcType=INTEGER})
		</if>
		<if test="sccjID >0 ">
			and exists(select 1 from bsp_productattributes b where
			a.pid = b.pid and b.attrid = 51 and b.attrvalueid =
			#{sccjID,jdbcType=INTEGER})
		</if>
		<if test="ppID >0 ">
			and exists(select 1 from bsp_productattributes b where
			a.pid = b.pid and b.attrid = 52 and b.attrvalueid =
			#{ppID,jdbcType=INTEGER})
		</if>

	</select>




	<select id="selectByExample" resultMap="BaseResultMap"
		parameterType="com.runlion.shop.entity.BspProductsExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		from bsp_products
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
		<if test="start!=0 or limit!=0">
			limit #{start},#{limit}
		</if>
	</select>
	<select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from bsp_products
		where pid = #{pid,jdbcType=INTEGER}
	</select>
	<select id="selectByPrimaryKeyState" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from bsp_products
		where pid = #{pid,jdbcType=INTEGER}
		<if test="state != -1">
			and state=#{state,jdbcType=INTEGER}
		</if>
		<!-- 
		and exists (
		SELECT * FROM bsp_productsregions a,
		bsp_productsregionsbrand b, bsp_productsregionsbrandplace c,
		bsp_productskus d, bsp_productskus e
		where a.RegionsId = #{areaId,jdbcType=INTEGER}
		and a.id = b.productregionsId
		and a.id = c.productregionsId
		and d.pid = #{pid,jdbcType=INTEGER}
		and d.pid = e.pid
		and d.attrid = 52
		and d.attrvalueid = b.brandId
		and e.attrid = 51
		and e.attrvalueid = c.placeId
		)
		-->
	</select>
	<select id="selOnProductList" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from bsp_products
		where name like CONCAT('%',#{keyWord},'%') and
		state=0
	</select>
	<select id="selDownProductList" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from bsp_products
		where name like CONCAT('%',#{keyWord},'%') and
		state=1
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		delete from bsp_products
		where pid = #{pid,jdbcType=INTEGER}
	</delete>
	<delete id="deleteByExample" parameterType="com.runlion.shop.entity.BspProductsExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		delete from bsp_products
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</delete>
	<insert id="insert" parameterType="com.runlion.shop.entity.BspProducts">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		insert into bsp_products (pid, psn, cateid,
		brandid, skugid, name,
		shopprice, marketprice, costprice,
		state, isbest, ishot,
		isnew,
		displayorder, weight,
		showimg, salecount, visitcount,
		reviewcount,
		star1, star2,
		star3, star4, star5,
		addtime,weightunitid,quantityunitid,
		description,ncpronum)
		values
		(#{pid,jdbcType=INTEGER}, #{psn,jdbcType=VARCHAR},
		#{cateid,jdbcType=SMALLINT},
		#{brandid,jdbcType=INTEGER},
		#{skugid,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR},
		#{shopprice,jdbcType=DECIMAL}, #{marketprice,jdbcType=DECIMAL},
		#{costprice,jdbcType=DECIMAL},
		#{state,jdbcType=TINYINT},
		#{isbest,jdbcType=TINYINT}, #{ishot,jdbcType=TINYINT},
		#{isnew,jdbcType=TINYINT}, #{displayorder,jdbcType=INTEGER},
		#{weight,jdbcType=INTEGER},
		#{showimg,jdbcType=VARCHAR},
		#{salecount,jdbcType=INTEGER}, #{visitcount,jdbcType=INTEGER},
		#{reviewcount,jdbcType=INTEGER}, #{star1,jdbcType=INTEGER},
		#{star2,jdbcType=INTEGER},
		#{star3,jdbcType=INTEGER},
		#{star4,jdbcType=INTEGER}, #{star5,jdbcType=INTEGER},
		#{addtime,jdbcType=TIMESTAMP},
		#{weightunitid,jdbcType=INTEGER},#{quantityunitid,jdbcType=INTEGER},
		#{description,jdbcType=LONGVARCHAR},#{ncpronum,jdbcType=VARCHAR})
	</insert>
	<insert id="insertSelective" parameterType="com.runlion.shop.entity.BspProducts"
		useGeneratedKeys="true" keyProperty="pid">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		insert into bsp_products
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="pid != null">
				pid,
			</if>
			<if test="psn != null">
				psn,
			</if>
			<if test="cateid != null">
				cateid,
			</if>
			<if test="brandid != null">
				brandid,
			</if>
			<if test="skugid != null">
				skugid,
			</if>
			<if test="name != null">
				name,
			</if>
			<if test="shopprice != null">
				shopprice,
			</if>
			<if test="marketprice != null">
				marketprice,
			</if>
			<if test="costprice != null">
				costprice,
			</if>
			<if test="state != null">
				state,
			</if>
			<if test="isbest != null">
				isbest,
			</if>
			<if test="ishot != null">
				ishot,
			</if>
			<if test="isnew != null">
				isnew,
			</if>
			<if test="displayorder != null">
				displayorder,
			</if>
			<if test="weight != null">
				weight,
			</if>
			<if test="showimg != null">
				showimg,
			</if>
			<if test="salecount != null">
				salecount,
			</if>
			<if test="visitcount != null">
				visitcount,
			</if>
			<if test="reviewcount != null">
				reviewcount,
			</if>
			<if test="star1 != null">
				star1,
			</if>
			<if test="star2 != null">
				star2,
			</if>
			<if test="star3 != null">
				star3,
			</if>
			<if test="star4 != null">
				star4,
			</if>
			<if test="star5 != null">
				star5,
			</if>
			<if test="addtime != null">
				addtime,
			</if>
			<if test="weightunitid != null">
				weightunitid,
			</if>
			<if test="quantityunitid != null">
				quantityunitid,
			</if>
			<if test="description != null">
				description,
			</if>
			<if test="ncpronum != null">
				ncpronum,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="pid != null">
				#{pid,jdbcType=INTEGER},
			</if>
			<if test="psn != null">
				#{psn,jdbcType=VARCHAR},
			</if>
			<if test="cateid != null">
				#{cateid,jdbcType=SMALLINT},
			</if>
			<if test="brandid != null">
				#{brandid,jdbcType=INTEGER},
			</if>
			<if test="skugid != null">
				#{skugid,jdbcType=INTEGER},
			</if>
			<if test="name != null">
				#{name,jdbcType=VARCHAR},
			</if>
			<if test="shopprice != null">
				#{shopprice,jdbcType=DECIMAL},
			</if>
			<if test="marketprice != null">
				#{marketprice,jdbcType=DECIMAL},
			</if>
			<if test="costprice != null">
				#{costprice,jdbcType=DECIMAL},
			</if>
			<if test="state != null">
				#{state,jdbcType=TINYINT},
			</if>
			<if test="isbest != null">
				#{isbest,jdbcType=TINYINT},
			</if>
			<if test="ishot != null">
				#{ishot,jdbcType=TINYINT},
			</if>
			<if test="isnew != null">
				#{isnew,jdbcType=TINYINT},
			</if>
			<if test="displayorder != null">
				#{displayorder,jdbcType=INTEGER},
			</if>
			<if test="weight != null">
				#{weight,jdbcType=INTEGER},
			</if>
			<if test="showimg != null">
				#{showimg,jdbcType=VARCHAR},
			</if>
			<if test="salecount != null">
				#{salecount,jdbcType=INTEGER},
			</if>
			<if test="visitcount != null">
				#{visitcount,jdbcType=INTEGER},
			</if>
			<if test="reviewcount != null">
				#{reviewcount,jdbcType=INTEGER},
			</if>
			<if test="star1 != null">
				#{star1,jdbcType=INTEGER},
			</if>
			<if test="star2 != null">
				#{star2,jdbcType=INTEGER},
			</if>
			<if test="star3 != null">
				#{star3,jdbcType=INTEGER},
			</if>
			<if test="star4 != null">
				#{star4,jdbcType=INTEGER},
			</if>
			<if test="star5 != null">
				#{star5,jdbcType=INTEGER},
			</if>
			<if test="addtime != null">
				#{addtime,jdbcType=TIMESTAMP},
			</if>
			<if test="weightunitid != null">
				#{weightunitid,jdbcType=INTEGER},
			</if>
			<if test="quantityunitid != null">
				#{quantityunitid,jdbcType=INTEGER},
			</if>
			<if test="description != null">
				#{description,jdbcType=LONGVARCHAR},
			</if>
			<if test="ncpronum != null">
				#{ncpronum,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<select id="countByExample" parameterType="com.runlion.shop.entity.BspProductsExample"
		resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select count(*) from bsp_products
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByExampleSelective" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		update bsp_products
		<set>
			<if test="record.pid != null">
				pid = #{record.pid,jdbcType=INTEGER},
			</if>
			<if test="record.psn != null">
				psn = #{record.psn,jdbcType=VARCHAR},
			</if>
			<if test="record.cateid != null">
				cateid = #{record.cateid,jdbcType=SMALLINT},
			</if>
			<if test="record.brandid != null">
				brandid = #{record.brandid,jdbcType=INTEGER},
			</if>
			<if test="record.skugid != null">
				skugid = #{record.skugid,jdbcType=INTEGER},
			</if>
			<if test="record.name != null">
				name = #{record.name,jdbcType=VARCHAR},
			</if>
			<if test="record.shopprice != null">
				shopprice = #{record.shopprice,jdbcType=DECIMAL},
			</if>
			<if test="record.marketprice != null">
				marketprice = #{record.marketprice,jdbcType=DECIMAL},
			</if>
			<if test="record.costprice != null">
				costprice = #{record.costprice,jdbcType=DECIMAL},
			</if>
			<if test="record.state != null">
				state = #{record.state,jdbcType=TINYINT},
			</if>
			<if test="record.isbest != null">
				isbest = #{record.isbest,jdbcType=TINYINT},
			</if>
			<if test="record.ishot != null">
				ishot = #{record.ishot,jdbcType=TINYINT},
			</if>
			<if test="record.isnew != null">
				isnew = #{record.isnew,jdbcType=TINYINT},
			</if>
			<if test="record.displayorder != null">
				displayorder = #{record.displayorder,jdbcType=INTEGER},
			</if>
			<if test="record.weight != null">
				weight = #{record.weight,jdbcType=INTEGER},
			</if>
			<if test="record.showimg != null">
				showimg = #{record.showimg,jdbcType=VARCHAR},
			</if>
			<if test="record.salecount != null">
				salecount = #{record.salecount,jdbcType=INTEGER},
			</if>
			<if test="record.visitcount != null">
				visitcount = #{record.visitcount,jdbcType=INTEGER},
			</if>
			<if test="record.reviewcount != null">
				reviewcount = #{record.reviewcount,jdbcType=INTEGER},
			</if>
			<if test="record.star1 != null">
				star1 = #{record.star1,jdbcType=INTEGER},
			</if>
			<if test="record.star2 != null">
				star2 = #{record.star2,jdbcType=INTEGER},
			</if>
			<if test="record.star3 != null">
				star3 = #{record.star3,jdbcType=INTEGER},
			</if>
			<if test="record.star4 != null">
				star4 = #{record.star4,jdbcType=INTEGER},
			</if>
			<if test="record.star5 != null">
				star5 = #{record.star5,jdbcType=INTEGER},
			</if>
			<if test="record.addtime != null">
				addtime = #{record.addtime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.weightunitid != null">
				weightunitid = #{record.weightunitid,jdbcType=INTEGER},
			</if>
			<if test="record.quantityunitid != null">
				quantityunitid
				=#{record.quantityunitid,jdbcType=INTEGER},
			</if>
			<if test="record.description != null">
				description = #{record.description,jdbcType=LONGVARCHAR},
			</if>
			<if test="record.ncpronum != null">
				ncpronum = #{record.ncpronum,jdbcType=VARCHAR},
			</if>
		</set>
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExampleWithBLOBs" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		update bsp_products
		set pid = #{record.pid,jdbcType=INTEGER},
		psn =
		#{record.psn,jdbcType=VARCHAR},
		cateid =
		#{record.cateid,jdbcType=SMALLINT},
		brandid =
		#{record.brandid,jdbcType=INTEGER},
		skugid =
		#{record.skugid,jdbcType=INTEGER},
		name =
		#{record.name,jdbcType=VARCHAR},
		shopprice =
		#{record.shopprice,jdbcType=DECIMAL},
		marketprice =
		#{record.marketprice,jdbcType=DECIMAL},
		costprice =
		#{record.costprice,jdbcType=DECIMAL},
		state =
		#{record.state,jdbcType=TINYINT},
		isbest =
		#{record.isbest,jdbcType=TINYINT},
		ishot =
		#{record.ishot,jdbcType=TINYINT},
		isnew =
		#{record.isnew,jdbcType=TINYINT},
		displayorder =
		#{record.displayorder,jdbcType=INTEGER},
		weight =
		#{record.weight,jdbcType=INTEGER},
		showimg =
		#{record.showimg,jdbcType=VARCHAR},
		salecount =
		#{record.salecount,jdbcType=INTEGER},
		visitcount =
		#{record.visitcount,jdbcType=INTEGER},
		reviewcount =
		#{record.reviewcount,jdbcType=INTEGER},
		star1 =
		#{record.star1,jdbcType=INTEGER},
		star2 =
		#{record.star2,jdbcType=INTEGER},
		star3 =
		#{record.star3,jdbcType=INTEGER},
		star4 =
		#{record.star4,jdbcType=INTEGER},
		star5 =
		#{record.star5,jdbcType=INTEGER},
		addtime =
		#{record.addtime,jdbcType=TIMESTAMP},
		weightunitid =
		#{weightunitid,jdbcType=INTEGER},
		quantityunitid
		=#{quantityunitid,jdbcType=INTEGER},
		description =
		#{record.description,jdbcType=LONGVARCHAR},
		ncpronum=#{record.showimg,jdbcType=VARCHAR}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExample" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		update bsp_products
		set pid = #{record.pid,jdbcType=INTEGER},
		psn =
		#{record.psn,jdbcType=VARCHAR},
		cateid =
		#{record.cateid,jdbcType=SMALLINT},
		brandid =
		#{record.brandid,jdbcType=INTEGER},
		skugid =
		#{record.skugid,jdbcType=INTEGER},
		name =
		#{record.name,jdbcType=VARCHAR},
		shopprice =
		#{record.shopprice,jdbcType=DECIMAL},
		marketprice =
		#{record.marketprice,jdbcType=DECIMAL},
		costprice =
		#{record.costprice,jdbcType=DECIMAL},
		state =
		#{record.state,jdbcType=TINYINT},
		isbest =
		#{record.isbest,jdbcType=TINYINT},
		ishot =
		#{record.ishot,jdbcType=TINYINT},
		isnew =
		#{record.isnew,jdbcType=TINYINT},
		displayorder =
		#{record.displayorder,jdbcType=INTEGER},
		weight =
		#{record.weight,jdbcType=INTEGER},
		showimg =
		#{record.showimg,jdbcType=VARCHAR},
		salecount =
		#{record.salecount,jdbcType=INTEGER},
		visitcount =
		#{record.visitcount,jdbcType=INTEGER},
		reviewcount =
		#{record.reviewcount,jdbcType=INTEGER},
		star1 =
		#{record.star1,jdbcType=INTEGER},
		star2 =
		#{record.star2,jdbcType=INTEGER},
		star3 =
		#{record.star3,jdbcType=INTEGER},
		star4 =
		#{record.star4,jdbcType=INTEGER},
		star5 =
		#{record.star5,jdbcType=INTEGER},
		addtime =
		#{record.addtime,jdbcType=TIMESTAMP},
		weightunitid =
		#{weightunitid,jdbcType=INTEGER},
		quantityunitid
		=#{quantityunitid,jdbcType=INTEGER},
		ncpronum=#{record.ncpronum,jdbcType=VARCHAR}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByPrimaryKeySelective" parameterType="com.runlion.shop.entity.BspProducts">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		update bsp_products
		<set>
			<if test="psn != null">
				psn = #{psn,jdbcType=VARCHAR},
			</if>
			<if test="cateid != null">
				cateid = #{cateid,jdbcType=SMALLINT},
			</if>
			<if test="brandid != null">
				brandid = #{brandid,jdbcType=INTEGER},
			</if>
			<if test="skugid != null">
				skugid = #{skugid,jdbcType=INTEGER},
			</if>
			<if test="name != null">
				name = #{name,jdbcType=VARCHAR},
			</if>
			<if test="shopprice != null">
				shopprice = #{shopprice,jdbcType=DECIMAL},
			</if>
			<if test="marketprice != null">
				marketprice = #{marketprice,jdbcType=DECIMAL},
			</if>
			<if test="costprice != null">
				costprice = #{costprice,jdbcType=DECIMAL},
			</if>
			<if test="state != null">
				state = #{state,jdbcType=TINYINT},
			</if>
			<if test="isbest != null">
				isbest = #{isbest,jdbcType=TINYINT},
			</if>
			<if test="ishot != null">
				ishot = #{ishot,jdbcType=TINYINT},
			</if>
			<if test="isnew != null">
				isnew = #{isnew,jdbcType=TINYINT},
			</if>
			<if test="displayorder != null">
				displayorder = #{displayorder,jdbcType=INTEGER},
			</if>
			<if test="weight != null">
				weight = #{weight,jdbcType=INTEGER},
			</if>
			<if test="showimg != null">
				showimg = #{showimg,jdbcType=VARCHAR},
			</if>
			<if test="salecount != null">
				salecount = #{salecount,jdbcType=INTEGER},
			</if>
			<if test="visitcount != null">
				visitcount = #{visitcount,jdbcType=INTEGER},
			</if>
			<if test="reviewcount != null">
				reviewcount = #{reviewcount,jdbcType=INTEGER},
			</if>
			<if test="star1 != null">
				star1 = #{star1,jdbcType=INTEGER},
			</if>
			<if test="star2 != null">
				star2 = #{star2,jdbcType=INTEGER},
			</if>
			<if test="star3 != null">
				star3 = #{star3,jdbcType=INTEGER},
			</if>
			<if test="star4 != null">
				star4 = #{star4,jdbcType=INTEGER},
			</if>
			<if test="star5 != null">
				star5 = #{star5,jdbcType=INTEGER},
			</if>
			<if test="addtime != null">
				addtime = #{addtime,jdbcType=TIMESTAMP},
			</if>
			<if test="weightunitid != null">
				weightunitid = #{weightunitid,jdbcType=INTEGER},
			</if>
			<if test="quantityunitid != null">
				quantityunitid =#{quantityunitid,jdbcType=INTEGER},
			</if>
			<if test="description != null">
				description = #{description,jdbcType=LONGVARCHAR},
			</if>
			<if test="ncpronum != null">
				ncpronum = #{ncpronum,jdbcType=VARCHAR},
			</if>
		</set>
		where pid = #{pid,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKeyWithBLOBs" parameterType="com.runlion.shop.entity.BspProducts">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		update bsp_products
		set psn = #{psn,jdbcType=VARCHAR},
		cateid =
		#{cateid,jdbcType=SMALLINT},
		brandid = #{brandid,jdbcType=INTEGER},
		skugid = #{skugid,jdbcType=INTEGER},
		name = #{name,jdbcType=VARCHAR},
		shopprice = #{shopprice,jdbcType=DECIMAL},
		marketprice =
		#{marketprice,jdbcType=DECIMAL},
		costprice =
		#{costprice,jdbcType=DECIMAL},
		state = #{state,jdbcType=TINYINT},
		isbest = #{isbest,jdbcType=TINYINT},
		ishot = #{ishot,jdbcType=TINYINT},
		isnew = #{isnew,jdbcType=TINYINT},
		displayorder =
		#{displayorder,jdbcType=INTEGER},
		weight = #{weight,jdbcType=INTEGER},
		showimg = #{showimg,jdbcType=VARCHAR},
		salecount =
		#{salecount,jdbcType=INTEGER},
		visitcount =
		#{visitcount,jdbcType=INTEGER},
		reviewcount =
		#{reviewcount,jdbcType=INTEGER},
		star1 = #{star1,jdbcType=INTEGER},
		star2 = #{star2,jdbcType=INTEGER},
		star3 = #{star3,jdbcType=INTEGER},
		star4 = #{star4,jdbcType=INTEGER},
		star5 = #{star5,jdbcType=INTEGER},
		addtime = #{addtime,jdbcType=TIMESTAMP},
		weightunitid =
		#{weightunitid,jdbcType=INTEGER},
		quantityunitid
		=#{quantityunitid,jdbcType=INTEGER},
		description =
		#{description,jdbcType=LONGVARCHAR},
		ncpronum=#{ncpronum,jdbcType=VARCHAR}
		where pid = #{pid,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.runlion.shop.entity.BspProducts">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		update bsp_products
		set psn = #{psn,jdbcType=VARCHAR},
		cateid =
		#{cateid,jdbcType=SMALLINT},
		brandid = #{brandid,jdbcType=INTEGER},
		skugid = #{skugid,jdbcType=INTEGER},
		name = #{name,jdbcType=VARCHAR},
		shopprice = #{shopprice,jdbcType=DECIMAL},
		marketprice =
		#{marketprice,jdbcType=DECIMAL},
		costprice =
		#{costprice,jdbcType=DECIMAL},
		state = #{state,jdbcType=TINYINT},
		isbest = #{isbest,jdbcType=TINYINT},
		ishot = #{ishot,jdbcType=TINYINT},
		isnew = #{isnew,jdbcType=TINYINT},
		displayorder =
		#{displayorder,jdbcType=INTEGER},
		weight = #{weight,jdbcType=INTEGER},
		showimg = #{showimg,jdbcType=VARCHAR},
		salecount =
		#{salecount,jdbcType=INTEGER},
		visitcount =
		#{visitcount,jdbcType=INTEGER},
		reviewcount =
		#{reviewcount,jdbcType=INTEGER},
		star1 = #{star1,jdbcType=INTEGER},
		star2 = #{star2,jdbcType=INTEGER},
		star3 = #{star3,jdbcType=INTEGER},
		star4 = #{star4,jdbcType=INTEGER},
		star5 = #{star5,jdbcType=INTEGER},
		addtime = #{addtime,jdbcType=TIMESTAMP},
		weightunitid =
		#{weightunitid,jdbcType=INTEGER},
		quantityunitid
		=#{quantityunitid,jdbcType=INTEGER},
		ncpronum=#{ncpronum,jdbcType=VARCHAR}
		where pid =
		#{pid,jdbcType=INTEGER}
	</update>
	
	<select id="countNCPronum" parameterType="map" resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 26 
			14:56:27 CST 2015. -->
		select count(*) from bsp_products where ncpronum=#{ncPronum}
		<if test="nowpid != null">
				 and pid &lt;&gt; #{nowpid}		
		</if>		
	</select>
	
	<select id="selectSalerProlist" resultMap="BaseResultMap" parameterType="map">
		SELECT bp.* FROM bsp_products bp,bsp_saleaddress bs,bsp_ncenterinfor bn
		where bs.pkcorp=bn.pkcorp and bn.pid=bp.ncpronum and bs.id=#{SALERID,jdbcType=INTEGER}
		limit #{STARTROW,jdbcType=INTEGER},#{ROWNUM,jdbcType=INTEGER}		
	</select>
	<select id="countSalerProlist" resultType="java.lang.Integer" parameterType="map">
		SELECT count(1) FROM bsp_products bp,bsp_saleaddress bs,bsp_ncenterinfor bn
		where bs.pkcorp=bn.pkcorp and bn.pid=bp.ncpronum and bs.id=#{SALERID,jdbcType=INTEGER}		
	</select>
	
</mapper>