<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.runlion.shop.dao.CusUsersPermissionMapper">
  <resultMap id="permissionUserVOInfor" type="com.runlion.shop.vo.permission.PermissionUserVO">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 28 17:18:32 CST 2015.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="username" jdbcType="VARCHAR" property="username" />
    <result column="uid" jdbcType="INTEGER" property="uid" />
    <result column="roleid" jdbcType="VARCHAR" property="roleid" />
    <result column="storeid" jdbcType="VARCHAR" property="storeid" />
    <result column="applyStatus" jdbcType="INTEGER" property="applystatus" />
    <result column="description" jdbcType="LONGVARCHAR" property="description" />
    <result column="replyMsg" jdbcType="LONGVARCHAR" property="replymsg" />
  </resultMap> 
  
  <select id="selectApplayInfor" parameterType="map" resultMap="permissionUserVOInfor">   
    select bup.*,bu.username from bsp_users_permission bup,bsp_users bu
    where bu.uid=bup.uid
    <if test="applyStatus !=null" >
       and applyStatus=#{applyStatus}
    </if>
    
    order by bup.id desc
   
  </select>
  
</mapper>